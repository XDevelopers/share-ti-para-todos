<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="author" content="" />

    <title>Teste de Vue.Js no TI para Todos</title>
    <link
      data-n-head="ssr"
      rel="icon"
      type="image/x-icon"
      href="http://ac-control.surge.sh/favicon.ico"
    />

    <!-- Custom fonts for this theme -->
    <link
      href="https://blackrockdigital.github.io/startbootstrap-freelancer/vendor/fontawesome-free/css/all.min.css"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Montserrat:400,700"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic"
      rel="stylesheet"
      type="text/css"
    />

    <!-- Theme CSS -->
    <link
      href="https://blackrockdigital.github.io/startbootstrap-freelancer/css/freelancer.min.css"
      rel="stylesheet"
    />
    <!-- development version, includes helpful console warnings -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <!-- Axios -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.15.2/axios.js"></script>
  </head>

  <body id="page-top">
    <div id="app">
      <!-- Navigation -->
      <nav
        class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top"
        id="mainNav"
      >
        <div class="container">
          <a class="navbar-brand js-scroll-trigger" href="#page-top"
            >{{ title }}</a
          >
          <button
            class="navbar-toggler navbar-toggler-right text-uppercase font-weight-bold bg-primary text-white rounded"
            type="button"
            data-toggle="collapse"
            data-target="#navbarResponsive"
            aria-controls="navbarResponsive"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            Menu
            <i class="fas fa-bars"></i>
          </button>
          <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav ml-auto">
              <li class="nav-item mx-0 mx-lg-1">
                <a
                  class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger"
                  href="#portfolio"
                  >Portfolio</a
                >
              </li>
              <li class="nav-item mx-0 mx-lg-1">
                <a
                  class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger"
                  href="#about"
                  >About</a
                >
              </li>
              <li class="nav-item mx-0 mx-lg-1">
                <a
                  class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger"
                  href="#contact"
                  >Contact</a
                >
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <!-- Masthead -->
      <header class="masthead bg-primary text-white text-center">
        <div class="container d-flex align-items-center flex-column">
          <!-- Masthead Avatar Image -->
          <img
            class="masthead-avatar mb-5"
            src="https://blackrockdigital.github.io/startbootstrap-freelancer/img/avataaars.svg"
            alt=""
          />

          <!-- Masthead Heading -->
          <h1 class="masthead-heading text-uppercase mb-0">{{ title }}</h1>

          <!-- Icon Divider -->
          <div class="divider-custom divider-light">
            <div class="divider-custom-line"></div>
            <div class="divider-custom-icon">
              <i class="fas fa-star"></i>
            </div>
            <div class="divider-custom-line"></div>
          </div>

          <!-- Masthead Subheading -->
          <p class="masthead-subheading font-weight-light mb-0">
            By Marcio Lourenço
          </p>
        </div>
      </header>

      <!-- Portfolio Section -->
      <section class="page-section portfolio" id="portfolio">
        <div class="container">
          <!-- Portfolio Section Heading -->
          <h2
            class="page-section-heading text-center text-uppercase text-secondary mb-0"
          >
            Pessoas
          </h2>

          <!-- Icon Divider -->
          <div class="divider-custom">
            <div class="divider-custom-line"></div>
            <div class="divider-custom-icon">
              <i class="fas fa-star"></i>
            </div>
            <div class="divider-custom-line"></div>
          </div>

          <!-- Portfolio Grid Items -->
          <div class="row">
            <div v-for="(item, i) in contacts" :key="i" class="col mt-3 mr-2">
              Nome: {{ item.name }}
              <br />
              E-mail: {{ item.email }}
            </div>
          </div>
          <!-- /.row -->
        </div>
      </section>

      <!-- About Section -->
      <section class="mt-2 p-2 bg-primary text-white mb-0" id="about">
        <div class="container-1">
          <!-- About Section Heading -->
          <!-- <h2
            class="page-section-heading text-center text-uppercase text-white"
          >
            About
          </h2> -->

          <!-- Icon Divider -->
          <!-- <div class="divider-custom divider-light">
            <div class="divider-custom-line"></div>
            <div class="divider-custom-icon">
              <i class="fas fa-star"></i>
            </div>
            <div class="divider-custom-line"></div>
          </div> -->

          <!-- About Section Content -->
          <!-- <div class="row">
            <div class="col-lg-4 ml-auto">
                        <p class="lead">Freelancer is a free bootstrap theme created by Start Bootstrap. The download
                            includes the complete source files including HTML, CSS, and JavaScript as well as optional
                            SASS stylesheets for easy customization.</p>
                    </div>
                    <div class="col-lg-4 mr-auto">
                        <p class="lead">You can create your own custom avatar for the masthead, change the icon in the
                            dividers, and add your email address to the contact form to make it fully functional!</p>
                    </div>
          </div> -->

          <!-- About Section Button -->
          <!-- <div class="text-center mt-4">
            <a class="btn btn-xl btn-outline-light" href="https://startbootstrap.com/themes/freelancer/">
                        <i class="fas fa-download mr-2"></i>
                        Free Download!
                    </a>
          </div> -->
        </div>
      </section>

      <!-- Contact Section -->
      <section class="page-section" id="contact">
        <div class="container">
          <!-- Contact Section Heading -->
          <h2
            class="page-section-heading text-center text-uppercase text-secondary mb-0"
          >
            Deixe sua mensagem
          </h2>

          <!-- Icon Divider -->
          <div class="divider-custom">
            <div class="divider-custom-line"></div>
            <div class="divider-custom-icon">
              <i class="fas fa-star"></i>
            </div>
            <div class="divider-custom-line"></div>
          </div>

          <!-- Contact Section Form -->
          <div class="row">
            <div v-if="saved" class="col-lg-8 mx-auto">
              <h1>Obrigado</h1>

              <div class="alert alert-success" role="alert">
                Sua mensagem foi enviada com sucesso!
              </div>
            </div>
            <div v-else class="col-md-6 mx-auto">
              <!-- To configure the contact form email address, go to mail/contact_me.php and update the email address in the PHP file on line 19. -->
              <form
                @submit="saveContact"
                name="sentMessage"
                id="contactForm"
                novalidate="novalidate"
              >
                <div class="control-group">
                  <div
                    class="form-group floating-label-form-group controls mb-0 pb-0"
                  >
                    <label>Name</label>
                    <input
                      v-model="contact.name"
                      class="form-control"
                      id="name"
                      type="text"
                      placeholder="Name"
                      required="required"
                      data-validation-required-message="Please enter your name."
                    />
                    <p class="help-block text-danger"></p>
                  </div>
                </div>
                <div class="control-group">
                  <div
                    class="form-group floating-label-form-group controls mb-0 pb-0"
                  >
                    <label>Email Address</label>
                    <input
                      v-model="contact.email"
                      class="form-control"
                      id="email"
                      type="email"
                      placeholder="Email Address"
                      required="required"
                      data-validation-required-message="Please enter your email address."
                    />
                    <p class="help-block text-danger"></p>
                  </div>
                </div>
                <div class="control-group">
                  <div
                    class="form-group floating-label-form-group controls mb-0 pb-0"
                  >
                    <label>Phone Number</label>
                    <input
                      v-model="contact.phone"
                      class="form-control"
                      id="phone"
                      type="tel"
                      placeholder="Phone Number"
                      required="required"
                      data-validation-required-message="Please enter your phone number."
                    />
                    <p class="help-block text-danger"></p>
                  </div>
                </div>
                <div class="control-group">
                  <div
                    class="form-group floating-label-form-group controls mb-0 pb-0"
                  >
                    <label>Message</label>
                    <textarea
                      v-model="contact.message"
                      class="form-control"
                      id="message"
                      rows="2"
                      placeholder="Message"
                      required="required"
                      data-validation-required-message="Please enter a message."
                    ></textarea>
                    <p class="help-block text-danger"></p>
                  </div>
                </div>
                <br />
                <div id="success"></div>
                <div class="form-group">
                  <button
                    type="submit"
                    class="btn btn-primary btn-xl"
                    id="sendMessageButton"
                  >
                    Send
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </section>

      <!-- Footer -->
      <footer class="footer text-center">
        <div class="container">
          <div class="row">
            <!-- Footer Location -->
            <div class="col-lg-4 mb-5 mb-lg-0">
              <h4 class="text-uppercase mb-4">Location</h4>
              <p class="lead mb-0">
                2215 John Daniel Drive <br />Clark, MO 65243
              </p>
            </div>

            <!-- Footer Social Icons -->
            <div class="col-lg-4 mb-5 mb-lg-0">
              <h4 class="text-uppercase mb-4">Around the Web</h4>
              <a class="btn btn-outline-light btn-social mx-1" href="#">
                <i class="fab fa-fw fa-facebook-f"></i>
              </a>
              <a class="btn btn-outline-light btn-social mx-1" href="#">
                <i class="fab fa-fw fa-twitter"></i>
              </a>
              <a class="btn btn-outline-light btn-social mx-1" href="#">
                <i class="fab fa-fw fa-linkedin-in"></i>
              </a>
              <a class="btn btn-outline-light btn-social mx-1" href="#">
                <i class="fab fa-fw fa-dribbble"></i>
              </a>
            </div>

            <!-- Footer About Text -->
            <div class="col-lg-4">
              <h4 class="text-uppercase mb-4">About Freelancer</h4>
              <p class="lead mb-0">
                Freelance is a free to use, MIT licensed Bootstrap theme created
                by <a href="http://startbootstrap.com">Start Bootstrap</a>.
              </p>
            </div>
          </div>
        </div>
      </footer>

      <!-- Copyright Section -->
      <section class="copyright py-4 text-center text-white">
        <div class="container">
          <small>Copyright &copy; Your Website 2019</small>
        </div>
      </section>

      <!-- Scroll to Top Button (Only visible on small and extra-small screen sizes) -->
      <div class="scroll-to-top d-lg-none position-fixed ">
        <a
          class="js-scroll-trigger d-block text-center text-white rounded"
          href="#page-top"
        >
          <i class="fa fa-chevron-up"></i>
        </a>
      </div>
    </div>

    <!-- Bootstrap core JavaScript -->
    <script src="https://blackrockdigital.github.io/startbootstrap-freelancer/vendor/jquery/jquery.min.js"></script>
    <script src="https://blackrockdigital.github.io/startbootstrap-freelancer/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="https://blackrockdigital.github.io/startbootstrap-freelancer/vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Contact Form JavaScript -->
    <script src="https://blackrockdigital.github.io/startbootstrap-freelancer/js/jqBootstrapValidation.js"></script>
    <!-- <script src="https://blackrockdigital.github.io/startbootstrap-freelancer/js/contact_me.js"></script> -->

    <!-- Custom scripts for this template -->
    <script src="https://blackrockdigital.github.io/startbootstrap-freelancer/js/freelancer.min.js"></script>

    <script>
      // Axios
      Vue.prototype.$http = axios;
      var app = new Vue({
        el: "#app",
        data: {
          title: "TI para Todos",
          contact: {
            name: "",
            email: "",
            phone: "",
            message: ""
          },
          contacts: [],
          saved: false
        },
        mounted() {
          var vm = this;
          this.$http
            .get("https://localhost:5001/TiParaTodos")
            .then(function(response) {
              vm.contacts = response.data;
            })
            .catch(e => {
              console.log("error", e);
            });
        },
        methods: {
          saveContact: function(e) {
            if (this.contact.name && this.contact.email) {
              this.$http
                .post("https://localhost:5001/TiParaTodos", {
                  name: this.contact.name,
                  email: this.contact.email,
                  phone: this.contact.phone,
                  message: this.contact.message
                })
                .then(function(response) {
                  this.contacts = response.data;
                  console.log(response.data);
                  console.log(response);
                })
                .catch(function(error) {
                  console.log(error);
                });
              this.clearForm();
            }
            e.preventDefault();
          },
          clearForm: function() {
            // Depois de enviar limpar o formulário
            this.contact.name = "";
            this.contact.email = "";
            this.contact.phone = "";
            this.contact.message = "";
            this.saved = true;

            setTimeout(() => {
              console.log(this.saved);
              // Remove a mensagem de enviado com sucesso
              this.saved = false;
            }, 4000);
          }
        }
      });
    </script>
    <style>
      .page-section {
        padding: 2rem 0;
      }
      .page-section .page-section-heading {
        font-size: 1.5rem;
        line-height: 0.5rem;
      }
    </style>
  </body>
</html>
